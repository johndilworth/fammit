<!DOCTYPE html>
<html>
<head>
  <title>Faminator</title>
  <meta charset="utf-8" />
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="js/jquery-ui/themes/base/jquery.ui.all.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="./js/jquery-ui/jquery-1.10.2.js"></script>
    <script src="js/jquery-ui/ui/jquery.ui.slider.js"></script>
    <script src="js/jquery-ui/ui/jquery.ui.core.js"></script>
    <script src="js/jquery-ui/ui/jquery.ui.widget.js"></script>
    <script src="js/jquery-ui/ui/jquery.ui.mouse.js"></script>
    <script src="js/jquery-ui/ui/jquery.ui.slider.js"></script>
    <script src="js/TweenMax.min.js"></script>
    <script src="js/TimeLineMax.min.js"></script>
 </head>
 <body>

<div id="header-controls">
  <div id="clock"></div>

</div>

<div id="stage"></div>

<div id="footer-controls">
  <div id="slider"></div><button id="pause">play</button>
 <!--  <div id="controls">
    <button id="pause">play</button>
   <button id="reverse">reverse</button>
    <button id="restart">restart</button>
    <div>Speed:
      <label><input type="radio" name="speed" value="2" id="slow"> slow</label>
      <label><input type="radio" name="speed" value="4" id="normal"> normal</label>
      <label><input type="radio" name="speed" value="6" id="fast" checked> fast</label>
    </div>
  </div> -->
</div>

<script type="text/javascript">

    var data = {
    "PersonCast": [
        {
            "Id": "20299855960:1030:32134167",
            "OnPath": false,
            "Name": "Susan Howe"
        },
        {
            "Id": "20299850982:1030:32134167",
            "OnPath": true,
            "Name": "John Tripp"
        },
        {
            "Id": "20299856031:1030:32134167",
            "OnPath": false,
            "Name": "Ann Tripp"
        },
        {
            "Id": "20299856075:1030:32134167",
            "OnPath": false,
            "Name": "Annis Telbe"
        },
        {
            "Id": "20299851526:1030:32134167",
            "OnPath": false,
            "Name": "Isabelle Moses"
        },
        {
            "Id": "20299856088:1030:32134167",
            "OnPath": false,
            "Name": "John Tripp"
        },
        {
            "Id": "19889836279:1030:32134167",
            "OnPath": true,
            "Name": "John Tripp"
        },
        {
            "Id": "20299856077:1030:32134167",
            "OnPath": false,
            "Name": "Isabel Tripp"
        },
        {
            "Id": "20299856052:1030:32134167",
            "OnPath": false,
            "Name": "Francis Tripp"
        },
        {
            "Id": "20299856066:1030:32134167",
            "OnPath": false,
            "Name": "Grace Tripp"
        },
        {
            "Id": "20299856060:1030:32134167",
            "OnPath": false,
            "Name": "Elizabeth Tripp"
        },
        {
            "Id": "20299856041:1030:32134167",
            "OnPath": false,
            "Name": "Dorothie Tripp"
        },
        {
            "Id": "20299856069:1030:32134167",
            "OnPath": false,
            "Name": "Robert Tripp"
        },
        {
            "Id": "20299856048:1030:32134167",
            "OnPath": false,
            "Name": "Bridgett Tripp"
        },
        {
            "Id": "19876340085:1030:32134167",
            "OnPath": false,
            "Name": "Mary Paine"
        },
        {
            "Id": "19876340088:1030:32134167",
            "OnPath": false,
            "Name": "Peleg Tripp"
        },
        {
            "Id": "19876010049:1030:32134167",
            "OnPath": true,
            "Name": "James Tripp"
        },
        {
            "Id": "19876007365:1030:32134167",
            "OnPath": true,
            "Name": "Robert Tripp"
        },
        {
            "Id": "20299873893:1030:32134167",
            "OnPath": false,
            "Name": "Lydia Lawton"
        },
        {
            "Id": "19889829475:1030:32134167",
            "OnPath": false,
            "Name": "Alice Anthony"
        },
        {
            "Id": "19436022501:1030:32134167",
            "OnPath": true,
            "Name": "Gideon Tripp"
        },
        {
            "Id": "19436022504:1030:32134167",
            "OnPath": false,
            "Name": "Amy SHIPPEE"
        },
        {
            "Id": "19435999288:1030:32134167",
            "OnPath": true,
            "Name": "Gideon Tripp"
        },
        {
            "Id": "19435999303:1030:32134167",
            "OnPath": false,
            "Name": "Sarah Mead"
        },
        {
            "Id": "19436022506:1030:32134167",
            "OnPath": false,
            "Name": "Phebe Ann TRIPP"
        },
        {
            "Id": "19313082125:1030:32134167",
            "OnPath": true,
            "Name": "Ezra Tripp"
        },
        {
            "Id": "19436022638:1030:32134167",
            "OnPath": false,
            "Name": "Stephen Tripp"
        },
        {
            "Id": "19436022644:1030:32134167",
            "OnPath": false,
            "Name": "Elizabeth Betsy TRIPP"
        },
        {
            "Id": "19436022643:1030:32134167",
            "OnPath": false,
            "Name": "Gideon Tripp III"
        },
        {
            "Id": "19436022646:1030:32134167",
            "OnPath": false,
            "Name": "George Clinton TRIPP"
        },
        {
            "Id": "19436022652:1030:32134167",
            "OnPath": false,
            "Name": "Malachi TRIPP"
        },
        {
            "Id": "19436022653:1030:32134167",
            "OnPath": false,
            "Name": "Harris B TRIPP"
        },
        {
            "Id": "19313082127:1030:32134167",
            "OnPath": false,
            "Name": "Betsy Beden Beaden"
        },
        {
            "Id": "19313075894:1030:32134167",
            "OnPath": true,
            "Name": "Asenath Tripp"
        },
        {
            "Id": "18292912477:1030:32134167",
            "OnPath": false,
            "Name": "James Henry Cayvett"
        },
        {
            "Id": "18205774359:1030:32134167",
            "OnPath": true,
            "Name": "Helen Josephine Cayvett"
        },
        {
            "Id": "18205774356:1030:32134167",
            "OnPath": false,
            "Name": "Silas D Reese"
        },
        {
            "Id": "18196355211:1030:32134167",
            "OnPath": true,
            "Name": "Jacob Burton Reese"
        },
        {
            "Id": "19817044434:1030:32134167",
            "OnPath": false,
            "Name": "Vernetta Martha Reese"
        },
        {
            "Id": "18205826524:1030:32134167",
            "OnPath": false,
            "Name": "Archie Reese"
        },
        {
            "Id": "18205826525:1030:32134167",
            "OnPath": false,
            "Name": "Florrie Valentine Reese"
        },
        {
            "Id": "18196355625:1030:32134167",
            "OnPath": false,
            "Name": "Esther Wilhelmina Felt"
        },
        {
            "Id": "18190639643:1030:32134167",
            "OnPath": true,
            "Name": "Helen Josephine Reese"
        },
        {
            "Id": "19534645772:1030:32134167",
            "OnPath": false,
            "Name": "Ruby Lorraine Reese"
        },
        {
            "Id": "18205774365:1030:32134167",
            "OnPath": false,
            "Name": "Vernetta Reese"
        },
        {
            "Id": "18205774371:1030:32134167",
            "OnPath": false,
            "Name": "William Reese"
        },
        {
            "Id": "18190639539:1030:32134167",
            "OnPath": false,
            "Name": "George Daniel Millecam"
        },
        {
            "Id": "19887834464:1030:32134167",
            "OnPath": false,
            "Name": "Diana Millecam"
        },
        {
            "Id": "19887834465:1030:32134167",
            "OnPath": false,
            "Name": "Melinda Millecam"
        },
        {
            "Id": "20308554814:1030:32134167",
            "OnPath": false,
            "Name": "Jerry Millecam"
        },
        {
            "Id": "18190635710:1030:32134167",
            "OnPath": true,
            "Name": "Willa Rae Millecam"
        },
        {
            "Id": "18190634099:1030:32134167",
            "OnPath": false,
            "Name": "Kenneth Orvis Dilworth"
        },
        {
            "Id": "19442513195:1030:32134167",
            "OnPath": false,
            "Name": "Janice Dilworth"
        },
        {
            "Id": "18190633994:1030:32134167",
            "OnPath": true,
            "Name": "John Dilworth"
        },
        {
            "Id": "19442518384:1030:32134167",
            "OnPath": false,
            "Name": "Rebecca Lynn Dilworth"
        },
        {
            "Id": "19442523375:1030:32134167",
            "OnPath": false,
            "Name": "Edward Tyler Dilworth"
        },
        {
            "Id": "19442538614:1030:32134167",
            "OnPath": false,
            "Name": "George David Elmo Dilworth"
        },
        {
            "Id": "19887834469:1030:32134167",
            "OnPath": false,
            "Name": "Miken Dilworth"
        },
        {
            "Id": "19442559628:1030:32134167",
            "OnPath": false,
            "Name": "Jason Orvis Dilworth"
        },
        {
            "Id": "19442572070:1030:32134167",
            "OnPath": false,
            "Name": "Eric Quinten Dilworth"
        },
        {
            "Id": "19442623549:1030:32134167",
            "OnPath": false,
            "Name": "Samantha Dilworth"
        }
    ],
    "Generations": 13,
    "YearMin": 1549,
    "YearMax": 2014,
    "InitialGeneration": {
        "People": []
    },
    "Events": [
        {
            "Year": 1570,
            "Generation": 0,
            "TransitionPeople": [
                "20299855950:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1570,
            "Generation": 0,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "20299855960:1030:32134167",
            "Birth": 1554,
            "Death": 1623.3972602739725,
            "Gender": "f"
        },
        {
            "Year": 1575,
            "Generation": 0,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "20299850982:1030:32134167",
            "Birth": 1575,
            "Death": 1678.8219178082193,
            "Gender": "m"
        },
        {
            "Year": 1599.6246575342466,
            "Generation": 1,
            "TransitionPeople": [
                "20299850982:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1599.6246575342466,
            "Generation": 1,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "20299856031:1030:32134167",
            "Birth": 1599.6246575342466,
            "Death": 1648.707650273224,
            "Gender": "f"
        },
        {
            "Year": 1599.6246575342466,
            "Generation": 1,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "20299856075:1030:32134167",
            "Birth": 1599.6246575342466,
            "Death": 1648.707650273224,
            "Gender": "f"
        },
        {
            "Year": 1608,
            "Generation": 1,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "20299851526:1030:32134167",
            "Birth": 1580,
            "Death": 1678.7561643835616,
            "Gender": "f"
        },
        {
            "Year": 1610,
            "Generation": 1,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "20299856088:1030:32134167",
            "Birth": 1610,
            "Death": 1678.1150684931506,
            "Gender": "m"
        },
        {
            "Year": 1612,
            "Generation": 1,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19889836279:1030:32134167",
            "Birth": 1612,
            "Death": 1678,
            "Gender": "m"
        },
        {
            "Year": 1612,
            "Generation": 1,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "20299856077:1030:32134167",
            "Birth": 1612,
            "Death": 1644.6666666666667,
            "Gender": "f"
        },
        {
            "Year": 1614.0712328767124,
            "Generation": 1,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "20299856052:1030:32134167",
            "Birth": 1614.0712328767124,
            "Death": 1675.772602739726,
            "Gender": "m"
        },
        {
            "Year": 1614.0712328767124,
            "Generation": 1,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "20299856066:1030:32134167",
            "Birth": 1614.0712328767124,
            "Death": 1614.1013698630136,
            "Gender": "f"
        },
        {
            "Year": 1616.9535519125684,
            "Generation": 1,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "20299856060:1030:32134167",
            "Birth": 1616.9535519125684,
            "Death": 1648.5464480874316,
            "Gender": "f"
        },
        {
            "Year": 1618.213698630137,
            "Generation": 1,
           "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "20299856041:1030:32134167",
            "Birth": 1618.213698630137,
            "Death": 1624.6311475409836,
            "Gender": "f"
        },
        {
            "Year": 1625.3479452054794,
            "Generation": 1,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "20299856069:1030:32134167",
            "Birth": 1625.3479452054794,
            "Death": 1627.8027397260273,
            "Gender": "m"
        },
        {
            "Year": 1629.717808219178,
            "Generation": 1,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "20299856048:1030:32134167",
            "Birth": 1629.717808219178,
            "Death": 1630.1123287671232,
            "Gender": "f"
        },
        {
            "Year": 1642,
            "Generation": 2,
            "TransitionPeople": [
                "19889836279:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1642,
            "Generation": 2,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "19876340085:1030:32134167",
            "Birth": 1614,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1642,
            "Generation": 2,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19876340088:1030:32134167",
            "Birth": 1642,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1656,
            "Generation": 2,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19876010049:1030:32134167",
            "Birth": 1656,
            "Death": 1730,
            "Gender": "m"
        },
        {
            "Year": 1691.3671232876711,
            "Generation": 3,
            "TransitionPeople": [
                "19876010049:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1691.3671232876711,
            "Generation": 3,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19876007365:1030:32134167",
            "Birth": 1691.3671232876711,
            "Death": 1753.3287671232877,
            "Gender": "m"
        },
        {
            "Year": 1702.6109589041096,
            "Generation": 3,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "20299873893:1030:32134167",
            "Birth": 1660,
            "Death": 1702,
            "Gender": "f"
        },
        {
            "Year": 1737,
            "Generation": 4,
            "TransitionPeople": [
                "19876007365:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1737,
            "Generation": 4,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "19889829475:1030:32134167",
            "Birth": null,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1737,
            "Generation": 4,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19436022501:1030:32134167",
            "Birth": 1737,
            "Death": 1793.8931506849315,
            "Gender": "m"
        },
        {
            "Year": 1772.4043715846994,
            "Generation": 5,
            "TransitionPeople": [
                "19436022501:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1772.4043715846994,
            "Generation": 5,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "19436022504:1030:32134167",
            "Birth": 1733.2739726027398,
            "Death": 1793.6082191780822,
            "Gender": "f"
        },
        {
            "Year": 1772.4043715846994,
            "Generation": 5,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19435999288:1030:32134167",
            "Birth": 1772.4043715846994,
            "Death": 1813.5808219178082,
            "Gender": "m"
        },
        {
            "Year": 1792.295081967213,
            "Generation": 6,
            "TransitionPeople": [
                "19435999288:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1792.295081967213,
            "Generation": 6,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "19435999303:1030:32134167",
            "Birth": 1772.7021857923498,
            "Death": 1850.0493150684931,
            "Gender": "f"
        },
        {
            "Year": 1793,
            "Generation": 6,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19436022506:1030:32134167",
            "Birth": 1793,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1794.9835616438356,
            "Generation": 6,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19313082125:1030:32134167",
            "Birth": 1794.9835616438356,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1796.655737704918,
            "Generation": 6,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19436022638:1030:32134167",
            "Birth": 1796.655737704918,
            "Death": 1882.772602739726,
            "Gender": "m"
        },
        {
            "Year": 1800,
            "Generation": 6,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19436022644:1030:32134167",
            "Birth": 1800,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1800.3506849315067,
            "Generation": 6,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19436022643:1030:32134167",
            "Birth": 1800.3506849315067,
            "Death": 1857.4712328767123,
            "Gender": "m"
        },
        {
            "Year": 1805.164383561644,
            "Generation": 6,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19436022646:1030:32134167",
            "Birth": 1805.164383561644,
            "Death": 1854.5808219178082,
            "Gender": "m"
        },
        {
            "Year": 1810,
            "Generation": 6,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19436022652:1030:32134167",
            "Birth": 1810,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1812,
            "Generation": 6,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19436022653:1030:32134167",
            "Birth": 1812,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1816.1775956284152,
            "Generation": 7,
            "TransitionPeople": [
                "19313082125:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1816.1775956284152,
            "Generation": 7,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "19313082127:1030:32134167",
            "Birth": 1791,
            "Death": 1851.6657534246576,
            "Gender": "f"
        },
        {
            "Year": 1824.3852459016393,
            "Generation": 7,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19313075894:1030:32134167",
            "Birth": 1824.3852459016393,
            "Death": 1853,
            "Gender": "f"
        },
        {
            "Year": 1846.813698630137,
            "Generation": 8,
            "TransitionPeople": [
                "19313075894:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1846.813698630137,
            "Generation": 8,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "18292912477:1030:32134167",
            "Birth": 1817.331506849315,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1849.3287671232877,
            "Generation": 8,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "18205774359:1030:32134167",
            "Birth": 1849.3287671232877,
            "Death": 1926.268493150685,
            "Gender": "f"
        },
        {
            "Year": 1873,
            "Generation": 9,
            "TransitionPeople": [
                "18205774359:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1873,
            "Generation": 9,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "18205774356:1030:32134167",
            "Birth": 1844.9153005464482,
            "Death": 1909.731506849315,
           "Gender": "m"
        },
        {
            "Year": 1875.3808219178081,
            "Generation": 9,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "18196355211:1030:32134167",
            "Birth": 1875.3808219178081,
            "Death": 1948.2540983606557,
            "Gender": "m"
        },
        {
            "Year": 1877.4767123287672,
            "Generation": 9,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19817044434:1030:32134167",
            "Birth": 1877.4767123287672,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1885,
            "Generation": 9,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "18205826524:1030:32134167",
            "Birth": 1885,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1891.1205479452055,
            "Generation": 9,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "18205826525:1030:32134167",
            "Birth": 1891.1205479452055,
            "Death": 1979.454794520548,
            "Gender": "f"
        },
        {
            "Year": 1925.33698630137,
            "Generation": 10,
            "TransitionPeople": [
                "18196355211:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1925.33698630137,
            "Generation": 10,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "18196355625:1030:32134167",
            "Birth": 1898.6712328767123,
            "Death": 1947.7780821917809,
            "Gender": "f"
        },
        {
            "Year": 1925.33698630137,
            "Generation": 10,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "18190639643:1030:32134167",
            "Birth": 1925.33698630137,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1925.33698630137,
            "Generation": 10,
            "Type": "EnterPerson",
            "EntryType": "Unknown",
            "Id": "19534645772:1030:32134167",
            "Birth": null,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1928,
            "Generation": 10,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "18205774365:1030:32134167",
            "Birth": 1928,
            "Death": 2009,
            "Gender": "f"
        },
        {
            "Year": 1930,
            "Generation": 10,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "18205774371:1030:32134167",
            "Birth": 1930,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1946,
            "Generation": 11,
            "TransitionPeople": [
                "18190639643:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1946,
            "Generation": 11,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "18190639539:1030:32134167",
            "Birth": 1919.5972602739726,
            "Death": 1996.0573770491803,
            "Gender": "m"
        },
        {
            "Year": 1946,
            "Generation": 11,
            "Type": "EnterPerson",
            "EntryType": "Unknown",
            "Id": "19887834464:1030:32134167",
            "Birth": null,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1946,
            "Generation": 11,
            "Type": "EnterPerson",
            "EntryType": "Unknown",
            "Id": "19887834465:1030:32134167",
            "Birth": null,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1946,
            "Generation": 11,
            "Type": "EnterPerson",
            "EntryType": "Unknown",
            "Id": "20308554814:1030:32134167",
            "Birth": null,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1948.72131147541,
            "Generation": 11,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "18190635710:1030:32134167",
            "Birth": 1948.72131147541,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1970.5232876712328,
            "Generation": 12,
            "TransitionPeople": [
                "18190635710:1030:32134167"
            ],
            "Type": "EnterGeneration"
        },
        {
            "Year": 1970.5232876712328,
            "Generation": 12,
            "Type": "EnterPerson",
            "EntryType": "Marriage",
            "Id": "18190634099:1030:32134167",
            "Birth": 1946.4027397260274,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1970.5232876712328,
            "Generation": 12,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19442513195:1030:32134167",
            "Birth": 1970.5232876712328,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1971.827397260274,
            "Generation": 12,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "18190633994:1030:32134167",
            "Birth": 1971.827397260274,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1973.0958904109589,
            "Generation": 12,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19442518384:1030:32134167",
            "Birth": 1973.0958904109589,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1975.9287671232876,
            "Generation": 12,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19442523375:1030:32134167",
            "Birth": 1975.9287671232876,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1977.2931506849316,
            "Generation": 12,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19442538614:1030:32134167",
            "Birth": 1977.2931506849316,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1979,
            "Generation": 12,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19887834469:1030:32134167",
            "Birth": 1979,
            "Death": null,
            "Gender": "f"
        },
        {
            "Year": 1981.0246575342467,
            "Generation": 12,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19442559628:1030:32134167",
            "Birth": 1981.0246575342467,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1987.9178082191781,
            "Generation": 12,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19442572070:1030:32134167",
            "Birth": 1987.9178082191781,
            "Death": null,
            "Gender": "m"
        },
        {
            "Year": 1990.0383561643835,
            "Generation": 12,
            "Type": "EnterPerson",
            "EntryType": "Birth",
            "Id": "19442623549:1030:32134167",
            "Birth": 1990.0383561643835,
            "Death": null,
            "Gender": "f"
        }
    ]
}
  var $text = $("#text"),
  $pause = $("#pause"),
  $reverse = $("#reverse"),
  $restart = $("#restart"),
  $speed = $("input[name='speed']"),
  $slider = $("#slider"),
  //"tl" is the timeline we'll add our tweens to. Then we can easily control the whole sequence as one object.
  tl = new TimelineMax({onUpdate:updateSlider, onComplete:onComplete, onReverseComplete:onComplete, paused:true}),
  gencount = new Array,
  genYIncrement = 150,
  genXIncrement = 55;

  tl.timeScale(6);


  for (var i = data.Generations - 1; i >= 0; i--) {
    gencount.push(0);
  };

  // TweenMax.set($("#stage span"),{perspective:300});
  TweenLite.set("#stage div", {transformOrigin:"left bottom", transformStyle:"preserve-3d"});

  function updateSlider() {
    $slider.slider("value", tl.progress() * 100);
    $("#clock").text( timeScaleFromNormalized(tl.progress()) );
  }

  function timeScaleFromNormalized(v){
    // console.log(v);
    var realYear = Math.round(v * (data.YearMax - data.YearMin) + data.YearMin);
    return realYear;
  }

  function onComplete() {
    tl.pause();
    $pause.html("play");
  }

  function genCounter(g){
    gencount[g] = gencount[g]+1;
    // console.log("genCounter "+gencount)
  }


var ageSteps = [1, 4, 9, 16, 28, 46, 120];

function calcIcon(age, gender) {
  var lcGend = gender;
  for (var i=0; i<ageSteps.length; i++) {
    if (age < ageSteps[i]) {
      // return 'family-' + lcGend + '-' + i
      return lcGend + '-' + i
    }
  }
  return lcGend + '-4'
}

function interp(v1, v2, p) {
    return v1 + (v2 - v1) * p;
}

function heightForAge(age) {
    if (age < 2) return .33;
    if (age < 5) return interp(.256,.585, (age-2)/3);
    if (age < 8) return interp(.585,.68, (age-5)/3);
    if (age < 12) return interp(.68,.807, (age-8)/4);
    if (age < 15) return interp(.807,.92, (age-12)/3);
    if (age < 19) return interp(.92,1, (age-15)/4);
    if (age < 50) return 1;
    if (age < 75) return interp(1,.92,(age-50)/25);
    return .92;
}

function heightForAgeAndGender(age,gender) {
    if (age < 2) return 25;
    if (gender == 'f') return ((heightForAge(age) * .95)*100).toFixed(0);
    return (heightForAge(age)*100).toFixed(0);
}

function ageBump($pid, img) {
  $pid.find('img').attr('src', 'png/'+img+'.png');
}

function addTimelineClassesToPerson(p) {
  var pid = '#p-' + stripToPid(p.Id);
  var $pid = $(pid);
  // console.log("pid: " + pid);
  var lcGend = p.Gender;
    var haveSetHeight = false;
  for (var i=1; i<ageSteps.length; i++) {
    // once they're dead, 'freeze' them at their current class.
    if (p.Death && (p.Death < p.Birth + ageSteps[i])) {
      // console.log(pid + " Death at: " + (data.YearMin + ageSteps[i]));
      break;
    }
    //these are before our timeline starts
    if (p.Birth + ageSteps[i] <= data.YearMin) {
        continue;
    }

    if (p.Birth + ageSteps[i] >= data.YearMax) {
        break;
    }

    // if (!haveSetHeight) {
        var height = heightForAgeAndGender(ageSteps[i],lcGend);
        haveSetHeight = true;
        if (i>1) {
          tl.insert(TweenMax.to($pid.find('img'),ageSteps[i],{height:height}), timelineMarker);
        }
        // $(pid).('background-size', ''+height + '% ' + (height - .001) + '%');
        // $(pid).find('img').attr('height', height + 'px');
    // }



    var timelineMarker = p.Birth + ageSteps[i] - data.YearMin;
     //console.log('adding ' + p.Gender + '-' + i + ' to ' + pid + ' with delay of ' + (timelineMarker) + ' because they were born in ' + p.Birth + " and died in " + p.Death + ' height: ' + height);
      // var classes = 'person family-' + p.Gender + '-' + i;
      //$("#p-"+stripToPid(tp)).addClass("gen-"+ev.Generation).removeClass("gen-"+(Number(ev.Generation)-1));
    var classToAdd = 'family-' + p.Gender + '-' + i;
      // tl.insert(TweenMax.to($(pid),.01,{className:'+='+classToAdd}), timelineMarker);
      tl.insert(TweenMax.to($pid,.01,{className:'+='+classToAdd, onComplete:ageBump, onCompleteParams:[$pid, p.Gender + '-' + i]}), timelineMarker);
      var classToRemove = 'family-' + p.Gender + '-' + (i - 1);
      tl.insert(TweenMax.to($pid, .01, { className: '-=' + classToRemove }), timelineMarker);

      // tl.insert(TweenMax.to($pid, ageSteps[i] - ageSteps[i - 1], { backgroundSize: ''+height+'% ' + (height-0.001)+'%'}), timelineMarker);
  }

  //finally, get the Death in there.
  if (p.Death) {
    // console.log('adding dead to ' + pid + ' at ' + (p.Death - data.YearMin));
    // tl.insert(TweenMax.to($(pid),1,{autoAlpha: .3}), p.Death - data.YearMin);

    tl.insert(TweenMax.to($pid.find('img'),5,{ autoAlpha:.3, rotation:70, transformOrigin:"bottom right", ease:Bounce.easeOut}), p.Death - data.YearMin);
  }
}

function stripToPid(longPid) {
  var shortPid = longPid.split(":")[0];
  return shortPid;
}

data.PersonCast.forEach(function(p){
  // add to stage
  var pid = "p-"+stripToPid(p.Id);
  $("#stage").append("<div class='person' id='"+ pid +"'><img src='png/b.png' height='25px' /><div class='person-name'>"+p.Name+"</div></div>");
  
  if(p.OnPath){
      $('#' + pid).append("<svg class='onpath' height='20' width='20'><circle cx='10' cy='10' r='5'  fill='#4A90E2'  /></svg>");
  }

  TweenMax.set($('#' + pid), {right:-1200});
});

// turn on the intial gen people
data.InitialGeneration.People.forEach(function(p){
  var $pid = $("#p-"+stripToPid(p.Id));
  genCounter(0);
  var leIcon = calcIcon(data.YearMin - p.Birth, p.Gender);
    // tl.insert(TweenMax.set($("#p-"+p.Id), {autoAlpha:1, className:'person ' + calcIcon(data.YearMin - p.Birth, p.Gender)}),  0);
  TweenMax.set($pid, {autoAlpha:1, className:'person gen-0 family-' + leIcon, top:0, left:(genXIncrement*gencount[0])})
  console.log(heightForAgeAndGender(data.YearMin - p.Birth, p.Gender));
  $pid.find('img').attr('src','png/' + leIcon + '.png').attr('height', heightForAgeAndGender(data.YearMin - p.Birth, p.Gender));
  addTimelineClassesToPerson(p);
});


data.Events.forEach(function(ev){

  var yearOffset = (ev.Year - data.YearMin)

  if (ev.Type=='EnterPerson'){
    $("#p-"+stripToPid(ev.Id)).addClass("gen-"+ev.Generation);
    if (ev.EntryType == "Birth") {
        $("#p-"+stripToPid(ev.Id)).addClass("family-"+ev.Gender+ "-0");
    }
    genCounter(ev.Generation);
    addTimelineClassesToPerson(ev);

    TweenMax.set($("#p-"+stripToPid(ev.Id)), {top:(ev.Generation*genYIncrement)});

    tl.insert(new TweenMax.to($("#p-"+stripToPid(ev.Id)), 3, {top: (ev.Generation*genYIncrement), left:(genXIncrement*gencount[ev.Generation]), ease:Ease.easeIn}), yearOffset);

  } else if (ev.Type == 'EnterGeneration'){
    genCounter(ev.Generation);
    ev.TransitionPeople.forEach(function(tp){
      var $pid = $("#p-"+stripToPid(tp));
      $pid.addClass("gen-"+ev.Generation).removeClass("gen-"+(Number(ev.Generation)-1));
      tl.insert(new TweenMax($pid, 2, {top:(ev.Generation*genYIncrement), ease:Back.easeInOut}), yearOffset);
      tl.insert(new TweenMax($pid, 1, {left:(genXIncrement*gencount[ev.Generation]), delay: 1}), yearOffset);
    })
  };


});











    //slider and button controls from here on...
    $slider.slider({
        range: false,
        min: 0,
        max: 100,
        step:1,
        slide: function (event, ui) {

            tl.progress( ui.value / 100 ).pause();
            $pause.html("play");
        }
    });

    $pause.click(function() {
      if (tl.paused()) {
            if (tl.progress() === 1 || (tl.progress() === 0 && tl.reversed())) {
                tl.restart();
            } else {
                  tl.resume();
            }
        $pause.html("pause");
      } else {
        tl.pause();
        $pause.html("resume");
      }
    });

    $reverse.click(function() {
          if (tl.progress() === 0) {
         if (tl.reversed()) {
           tl.play();
         } else {
                   tl.reverse(0);
         }
        $pause.html("pause");
          } else {
                tl.reversed(!tl.reversed()).resume();
        $pause.html("pause");
          }
    });

    $restart.click(function(){
          tl.restart();
      $pause.html("pause");
    });

    $speed.change(function(v, val) {
      tl.timeScale(parseFloat($(this).val()));
      if (tl.progress() === 1) {
        tl.restart();
        $pause.html("pause");
      } else if (tl.paused()) {
        tl.resume();
        $pause.html("pause");
      }
    });

    $('#clock').text(data.YearMin);

</script>

 </body>
 </html>